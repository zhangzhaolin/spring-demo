<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>论坛首页</title>
    <link rel="stylesheet" type="text/css" href="../../resources/semantic/semantic.min.css"/>

</head>
<body>
    <div class="ui container" id="app" style="padding-top: 20px;">
        <template v-if="user !== null">
            <p style="font-size: 1.3rem;">{{user.username}} 欢迎登录论坛 您的当前积分为 : {{user.credits}}</p>
        </template>
    </div>
</body>
<script src="../../resources/vue/vue.js"></script>
<script src="../../resources/jquery/jquery.min.js"></script>
<script src="../../resources/semantic/semantic.min.js"></script>
<script>
    var app = new Vue({
        el : "#app",
        data : {
            user : null
        }
    });

    fetch("/main.html", {
        method: 'POST',
    }).then(res => res.json())
        .catch(error => console.error('Error:', error))
        .then(response => {
            if (!response.status){
                window.location.href = "/login.html";
            }else{
                app.user = {
                    username : response.data.userName,
                    credits : response.data.credits
                }
            }
        });
</script>
</html>